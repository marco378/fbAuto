FROM node:20-bullseye-slim

WORKDIR /app

# Copy only what we need
COPY server/src/index.absolute.js /app/
COPY server/package.json /app/

# Install only essential dependencies
RUN npm install express

# Expose port
EXPOSE 5000

# Simple startup
CMD ["node", "index.absolute.js"]